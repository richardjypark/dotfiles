#:schema https://docs.jj-vcs.dev/latest/config-schema.json

[user]
name = "rich"
# Optional: set JJ_EMAIL in your environment; it will be inserted here at apply time.
{{ $jjEmail := env "JJ_EMAIL" }}
{{ if $jjEmail }}
email = "{{ $jjEmail }}"
{{ end }}

[ui]
# Default command when jj is run without arguments
default-command = "log"
# Always use color
color = "auto"
# Use pager for long output
pager = "less -FRX"
# Editor for commit messages
editor = "vim"

[git]
# Push all bookmarks by default
push-all-bookmarks = false

[remotes.origin]
# Auto-track all bookmarks from origin
auto-track-bookmarks = "glob:*"

[revset-aliases]
# Useful revset shortcuts
"trunk()" = "latest(present(main@origin) | present(master@origin))"
"mine" = "author(exact:'rich')"
"wip" = "description(glob:'wip*')"
"stacked" = "trunk()..@"

[aliases]
# Common workflow shortcuts
l = ["log", "-r", "@::"]
la = ["log", "-r", "all()"]
ll = ["log", "--limit", "20"]
s = ["status"]
d = ["diff"]
ds = ["diff", "--stat"]
c = ["commit"]
n = ["new"]
e = ["edit"]
sq = ["squash"]
a = ["abandon"]
rb = ["rebase"]
sp = ["split"]
desc = ["describe"]
push = ["git", "push"]
fetch = ["git", "fetch"]
sync = ["git", "fetch", "--all-remotes"]

[snapshot]
auto-update-stale = true
