# If you come from bash you might have to change your $PATH.
export PATH=$HOME/bin:$HOME/.local/bin:/usr/local/bin:$PATH

# Path to your Oh My Zsh installation.
export ZSH="$HOME/.oh-my-zsh"

# Theme
ZSH_THEME="spaceship"

# Oh My Zsh plugins configuration
zstyle :omz:plugins:ssh-agent identities id_ed25519
zstyle :omz:plugins:ssh-agent lifetime 1h

# Plugins
plugins=(
	fzf
	git
	ssh-agent
	zsh-autosuggestions
	zsh-syntax-highlighting
)

# Load Oh My Zsh
source $ZSH/oh-my-zsh.sh

# Vi mode
bindkey -v

# Load all shell configurations
for conf in "$HOME/.config/shell/"*.sh; do
	[ -f "$conf" ] && . "$conf"
done

# Lazy load NVM
nvm() {
    unset -f nvm
    export NVM_DIR="$HOME/.nvm"
    [ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh"
    nvm "$@"
}

# Lazy load specific plugins
lazy_load() {
    local plugin_path="$1"
    local plugin_name="$2"
    if [ -f "$plugin_path" ]; then
        source "$plugin_path"
    else
        log_warning "Plugin $plugin_name not found at $plugin_path"
    fi
}
