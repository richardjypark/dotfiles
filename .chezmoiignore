README*
# Ignore compiled zsh files
*.zwc
.oh-my-zsh/cache/*

.jj/

# Ralph agent state files (runtime state tracking)
.call_count
.circuit_breaker_history
.circuit_breaker_state
.exit_signals
.last_reset
.response_analysis

# Ralph agent files (session-specific agent tasks)
@AGENT.md
@fix_plan.md
PROMPT.md
fix_plan.md

# Ralph progress tracking (session-specific)
progress.json
status.json

# Ralph logs
logs/ralph.log
logs/claude_output_*.log

# Ralph specs (agent-generated specifications)
specs/*
logs/*

# Skip dev tools on servers.
# Role is controlled by CHEZMOI_ROLE=server during apply.
# Keep hostname fallback for backward compatibility (legacy; prefer role/profile).
{{ if or (eq (env "CHEZMOI_ROLE") "server") (eq .chezmoi.hostname "vultr") }}
# Node.js/NVM - builds happen locally, not needed on prod
.chezmoiscripts/30-setup-node.sh

# Bun - not needed on prod
.chezmoiscripts/27-setup-bun.sh

# Homebrew - macOS only
.chezmoiscripts/10-setup-homebrew.sh

# Ansible - not needed on prod (we run ansible from local)
.chezmoiscripts/27-setup-ansible.sh

# Claude Code - not needed on prod servers
.chezmoiscripts/35-setup-claude-code.sh
{{ end }}

# Preserve Omarchy defaults while still managing this repo.
# Enable with: CHEZMOI_PROFILE=omarchy chezmoi apply|update
{{ $profile := or (index . "profile") (env "CHEZMOI_PROFILE") }}
{{ $force_raw := or (index . "force_zsh_login") (env "CHEZMOI_FORCE_ZSH_LOGIN") }}
{{ $force_str := lower (printf "%v" $force_raw) }}
{{ $force_zsh := or (eq $force_str "true") (eq $force_str "1") (eq $force_str "yes") }}
{{ if eq $profile "omarchy" }}
# Keep Omarchy terminal/shell defaults in place
.config/ghostty/config
.config/starship.toml
.zshenv
.zshrc
.tmux.conf

# Skip shell-stack setup scripts that assume this repo owns defaults
.chezmoiscripts/01-setup-omz.sh
.chezmoiscripts/12-setup-starship.sh
{{ if not $force_zsh }}
.chezmoiscripts/30-change-shell.sh
{{ end }}
.chezmoiscripts/40-setup-tmux.sh
{{ end }}
