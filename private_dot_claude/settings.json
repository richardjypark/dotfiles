{
  "enabledPlugins": {
    "safety-net@cc-marketplace": true
  },
  "statusLine": {
    "type": "command",
    "command": "input=$(cat); cwd=$(echo \"$input\" | jq -r '.workspace.current_dir'); user=$(whoami); if [[ -n \"$SSH_CLIENT\" ]] || [[ -n \"$SSH_TTY\" ]] || [[ -n \"$SSH_CONNECTION\" ]]; then host_hash=$(echo \"$HOSTNAME\" | md5 -q 2>/dev/null | cut -c1-1 || echo \"1\"); case $host_hash in [0-3]) host=\"server1\" ;; [4-7]) host=\"server2\" ;; [8-b]) host=\"server3\" ;; *) host=\"server4\" ;; esac; else host=\"localhost\"; fi; if [[ \"$EUID\" -eq 0 ]] || [[ \"$USER\" == \"root\" ]]; then context=\"$host\"; else context=\"$user@$host\"; fi; dir_name=$(basename \"$cwd\"); git_info=\"\"; if git -C \"$cwd\" --no-optional-locks rev-parse --git-dir >/dev/null 2>&1; then branch=$(git -C \"$cwd\" --no-optional-locks symbolic-ref --short HEAD 2>/dev/null || git -C \"$cwd\" --no-optional-locks rev-parse --short HEAD 2>/dev/null); if [[ -n \"$branch\" ]]; then if ! git -C \"$cwd\" --no-optional-locks diff --quiet 2>/dev/null || ! git -C \"$cwd\" --no-optional-locks diff --cached --quiet 2>/dev/null; then git_info=\" Â± $branch\"; else git_info=\" âœ“ $branch\"; fi; fi; fi; venv_info=\"\"; if [[ -n \"$VIRTUAL_ENV\" ]]; then venv_name=$(basename \"$VIRTUAL_ENV\"); venv_info=\" ğŸ($venv_name)\"; fi; printf \"%s %s%s%s\" \"$context\" \"$dir_name\" \"$git_info\" \"$venv_info\""
  }
}
